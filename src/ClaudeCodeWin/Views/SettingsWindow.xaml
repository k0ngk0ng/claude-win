<Window x:Class="ClaudeCodeWin.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="è®¾ç½® - Claude Code for Windows"
        Height="750" Width="750"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource BackgroundDark}"
        ResizeMode="CanResize"
        MinHeight="600" MinWidth="600">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜å’Œå¯¼å…¥æŒ‰é’® -->
        <Grid Grid.Row="0" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0">
                <TextBlock Text="çŽ¯å¢ƒå˜é‡é…ç½®"
                           FontSize="24" FontWeight="Bold"
                           Foreground="{StaticResource TextPrimary}"/>
                <TextBlock Text="é…ç½® Claude Code æ‰€éœ€çš„ ANTHROPIC çŽ¯å¢ƒå˜é‡"
                           Foreground="{StaticResource TextSecondary}"
                           Margin="0,4,0,0"/>
            </StackPanel>
            <Button Grid.Column="1" Content="ðŸ“‹ å¯¼å…¥ JSON"
                    Style="{StaticResource ModernButton}"
                    VerticalAlignment="Center"
                    Click="ImportJsonButton_Click"/>
        </Grid>

        <!-- è®¾ç½®åˆ—è¡¨ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="SettingsPanel">

                <!-- API é…ç½®åˆ†ç»„ -->
                <Border Background="{StaticResource BackgroundMedium}"
                        CornerRadius="8" Padding="16" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="API é…ç½®" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentColor}" Margin="0,0,0,12"/>

                        <!-- ANTHROPIC_AUTH_TOKEN -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_AUTH_TOKEN" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="è®¤è¯ä»¤ç‰Œï¼ˆsk-xxxï¼‰"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <PasswordBox x:Name="AuthTokenBox"
                                         Background="{StaticResource BackgroundLight}"
                                         Foreground="{StaticResource TextPrimary}"
                                         BorderBrush="{StaticResource BorderColor}"
                                         Padding="8,6"/>
                        </StackPanel>

                        <!-- ANTHROPIC_API_KEY -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_API_KEY" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="Anthropic API å¯†é’¥ï¼ˆå¯é€‰ï¼Œå¦‚å·²è®¾ç½® AUTH_TOKENï¼‰"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <PasswordBox x:Name="ApiKeyBox"
                                         Background="{StaticResource BackgroundLight}"
                                         Foreground="{StaticResource TextPrimary}"
                                         BorderBrush="{StaticResource BorderColor}"
                                         Padding="8,6"/>
                        </StackPanel>

                        <!-- ANTHROPIC_BASE_URL -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_BASE_URL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="è‡ªå®šä¹‰ API ç«¯ç‚¹ URL"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="BaseUrlBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_MODEL -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_MODEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="é»˜è®¤ä½¿ç”¨çš„æ¨¡åž‹"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="ModelBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_SMALL_FAST_MODEL -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_SMALL_FAST_MODEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="ç”¨äºŽå¿«é€Ÿä»»åŠ¡çš„å°æ¨¡åž‹"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="SmallFastModelBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- é»˜è®¤æ¨¡åž‹é…ç½®åˆ†ç»„ -->
                <Border Background="{StaticResource BackgroundMedium}"
                        CornerRadius="8" Padding="16" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="é»˜è®¤æ¨¡åž‹é…ç½®" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentColor}" Margin="0,0,0,12"/>

                        <!-- ANTHROPIC_DEFAULT_HAIKU_MODEL -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_DEFAULT_HAIKU_MODEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="é»˜è®¤ Haiku æ¨¡åž‹"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="DefaultHaikuModelBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_DEFAULT_SONNET_MODEL -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_DEFAULT_SONNET_MODEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="é»˜è®¤ Sonnet æ¨¡åž‹"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="DefaultSonnetModelBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_DEFAULT_OPUS_MODEL -->
                        <StackPanel>
                            <TextBlock Text="ANTHROPIC_DEFAULT_OPUS_MODEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="é»˜è®¤ Opus æ¨¡åž‹"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="DefaultOpusModelBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ç½‘ç»œé…ç½®åˆ†ç»„ -->
                <Border Background="{StaticResource BackgroundMedium}"
                        CornerRadius="8" Padding="16" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="ç½‘ç»œé…ç½®" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentColor}" Margin="0,0,0,12"/>

                        <!-- ANTHROPIC_PROXY -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_PROXY" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="HTTP ä»£ç†åœ°å€ï¼ˆå¦‚ http://127.0.0.1:7890ï¼‰"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="ProxyBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_TIMEOUT -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="ANTHROPIC_TIMEOUT" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="API è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="TimeoutBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- ANTHROPIC_MAX_RETRIES -->
                        <StackPanel>
                            <TextBlock Text="ANTHROPIC_MAX_RETRIES" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="æœ€å¤§é‡è¯•æ¬¡æ•°"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <TextBox x:Name="MaxRetriesBox" Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- åŠŸèƒ½å¼€å…³åˆ†ç»„ -->
                <Border Background="{StaticResource BackgroundMedium}"
                        CornerRadius="8" Padding="16" Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="åŠŸèƒ½å¼€å…³" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentColor}" Margin="0,0,0,12"/>

                        <CheckBox x:Name="DisableCacheCheck" Content="ç¦ç”¨ç¼“å­˜ (ANTHROPIC_DISABLE_CACHE)"
                                  Foreground="{StaticResource TextPrimary}" Margin="0,0,0,8"/>
                        <CheckBox x:Name="DisableTelemetryCheck" Content="ç¦ç”¨é¥æµ‹ (ANTHROPIC_DISABLE_TELEMETRY)"
                                  Foreground="{StaticResource TextPrimary}" Margin="0,0,0,8"/>
                        <CheckBox x:Name="DisableUpdateCheckCheck" Content="ç¦ç”¨æ›´æ–°æ£€æŸ¥ (ANTHROPIC_DISABLE_UPDATE_CHECK)"
                                  Foreground="{StaticResource TextPrimary}"/>
                    </StackPanel>
                </Border>

                <!-- è°ƒè¯•é…ç½®åˆ†ç»„ -->
                <Border Background="{StaticResource BackgroundMedium}"
                        CornerRadius="8" Padding="16">
                    <StackPanel>
                        <TextBlock Text="è°ƒè¯•é…ç½®" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentColor}" Margin="0,0,0,12"/>

                        <CheckBox x:Name="DebugCheck" Content="å¯ç”¨è°ƒè¯•æ¨¡å¼ (ANTHROPIC_DEBUG)"
                                  Foreground="{StaticResource TextPrimary}" Margin="0,0,0,12"/>

                        <StackPanel>
                            <TextBlock Text="ANTHROPIC_LOG_LEVEL" FontWeight="Medium"
                                       Foreground="{StaticResource TextPrimary}"/>
                            <TextBlock Text="æ—¥å¿—çº§åˆ«"
                                       Foreground="{StaticResource TextSecondary}" FontSize="12" Margin="0,2,0,4"/>
                            <ComboBox x:Name="LogLevelCombo"
                                      Background="{StaticResource BackgroundLight}"
                                      Foreground="{StaticResource TextPrimary}">
                                <ComboBoxItem Content=""/>
                                <ComboBoxItem Content="debug"/>
                                <ComboBoxItem Content="info"/>
                                <ComboBoxItem Content="warn"/>
                                <ComboBoxItem Content="error"/>
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="å–æ¶ˆ" Width="100"
                    Style="{StaticResource ModernButton}"
                    Background="{StaticResource BackgroundLight}"
                    Margin="0,0,10,0"
                    Click="CancelButton_Click"/>
            <Button Content="ä¿å­˜" Width="100"
                    Style="{StaticResource ModernButton}"
                    Click="SaveButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
